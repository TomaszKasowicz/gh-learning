name: Check Nrwl Set Shas action when run on tag

on:
  workflow_dispatch: {}


jobs:
  test-set-shas:
    name: Test Set SHAs from ${{ github.ref }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Derive appropriate SHAs for base and head for `nx affected` commands
        uses: nrwl/nx-set-shas@v4 #177b48373c6dc583ce0d9257ffb484bdd232fedf #v3.0.2
        with:
          main-branch-name: ${{ github.base_ref || github.ref_name }}

      - run: |
          echo "BASE: ${{ env.NX_BASE }}"
          echo "HEAD: ${{ env.NX_HEAD }}"
    
